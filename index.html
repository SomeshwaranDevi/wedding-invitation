<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Someshwaran & Devi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Great+Vibes&family=Dancing+Script:wght@400..700&display=swap" rel="stylesheet">
    <style>
        .font-playfair {
            font-family: 'Playfair Display', serif;
        }
        .font-montserrat {
            font-family: 'Montserrat', sans-serif;
        }
        .font-great-vibes {
            font-family: 'Great Vibes', cursive;
        }
        .font-dancing-script {
            font-family: 'Dancing Script', cursive;
        }
        
        /* Animation on Scroll */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .animate-on-scroll.in-view {
            opacity: 1;
            transform: translateY(0);
        }
        
        .thirukural-kural {
            font-size: 1.25rem;
            font-family: 'Playfair Display', serif;
        }
        .thirukural-kural span {
            display: block;
        }
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #fce8e6;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 1s ease-out;
        }
        @keyframes pulse {
            0% { transform: scale(0.8); opacity: 0.5; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(0.8); opacity: 0.5; }
        }
        .heart-pulse-1 { animation: pulse 1.5s infinite; }
        .heart-pulse-2 { animation: pulse 1.5s infinite 0.5s; }
        .heart-pulse-3 { animation: pulse 1.5s infinite 1s; }
        
        .fade-out { opacity: 0; }
        
        /* Hero Section with a single background image */
        .hero-merged {
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            filter: blur(5px);
            transition: filter 1s ease-in-out;
        }
        .hero-merged.loaded {
            filter: blur(0);
        }
        
        /* Pulsating heart animation for titles and countdown */
        @keyframes pulse-heart {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        .animated-heart {
            display: inline-block;
            animation: pulse-heart 1.5s infinite;
        }

        /* Hero Name Styling */
        .hero-names {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            font-weight: bold;
            letter-spacing: 0.1rem;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
            color: #fff;
        }
        .ampersand {
            font-family: 'Great Vibes', cursive;
            font-size: 4rem;
            color: #fde047;
            margin: 0 0.5rem;
            text-shadow: 0 0 10px #fde047;
        }
        .hero-subtext {
            color: #fce8e6;
            font-size: 1.25rem;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
            margin-top: 1rem;
        }
        @media (min-width: 768px) {
            .hero-names {
                font-size: 6rem;
            }
            .ampersand {
                font-size: 7rem;
            }
            .hero-subtext {
                font-size: 1.5rem;
            }
        }

        /* New Tinder-like Slider Styles */
        #tinder-slider-wrapper {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: 500px;
            margin: 0 auto;
        }
        .tinder-card {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 1.5rem;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            will-change: transform, opacity;
            transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
            cursor: grab;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding: 2rem;
            opacity: 0; /* Hide all cards initially */
        }
        .tinder-card.active {
            opacity: 1;
            z-index: 10;
        }
        .tinder-card.inactive {
            z-index: 5;
            transition: transform 0.2s ease-in-out;
        }

        .swipe-left {
            transform: translateX(-300%) rotate(-30deg) !important;
        }
        .swipe-right {
            transform: translateX(300%) rotate(30deg) !important;
        }

        /* Creative Footer Styles */
        .footer-pattern {
            position: relative;
            overflow: hidden;
        }
        .footer-pattern::before {
            content: '';
            position: absolute;
            top: -20px;
            left: -20px;
            width: calc(100% + 40px);
            height: calc(100% + 40px);
            background-image: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 20px 20px;
            animation: move-pattern 20s linear infinite;
        }
        @keyframes move-pattern {
            from { transform: translate(0, 0); }
            to { transform: translate(20px, 20px); }
        }

        /* Floating Heart Animation */
        @keyframes float-up {
            from {
                transform: translateY(0) rotate(0);
                opacity: 0.5;
            }
            to {
                transform: translateY(-200px) rotate(30deg);
                opacity: 0;
            }
        }
        .floating-heart {
            position: fixed;
            font-size: 1.5rem;
            animation: float-up 3s ease-in-out forwards;
            pointer-events: none;
            z-index: 50;
        }

        /* New Flying Heart Animation for the footer */
        @keyframes footer-fly-up {
            0% {
                transform: translateY(0) scale(1);
                opacity: 0.5;
            }
            100% {
                transform: translateY(-100px) scale(1.5);
                opacity: 0;
            }
        }
        .footer-fly-heart {
            position: absolute;
            bottom: 0;
            animation: footer-fly-up 2s ease-out infinite;
            pointer-events: none;
        }

        /* Beating heart animation for the fixed hearts */
        @keyframes beat-heart {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
        }

        .footer-fixed-heart {
            position: absolute;
            font-size: 3rem;
            opacity: 0.2;
            animation: beat-heart 1.5s infinite;
        }
        .footer-fixed-heart.left {
            left: 5%;
            top: 25%;
        }
        .footer-fixed-heart.right {
            right: 5%;
            top: 25%;
        }

        /* New Footer SVG Heart Animation */
        @keyframes pulse-svg-heart {
            0% { transform: scale(0.9); filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.5)); }
            50% { transform: scale(1.1); filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.8)); }
            100% { transform: scale(0.9); filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.5)); }
        }
        .animated-footer-heart-svg {
            animation: pulse-svg-heart 2s ease-in-out infinite;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-teal-50 text-gray-800 font-montserrat">

    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen bg-gradient-to-br from-blue-100 to-teal-100">
        <div class="flex space-x-4">
            <svg class="w-10 h-10 text-teal-500 heart-pulse-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path>
            </svg>
            <svg class="w-10 h-10 text-blue-500 heart-pulse-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path>
            </svg>
            <svg class="w-10 h-10 text-teal-500 heart-pulse-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path>
            </svg>
        </div>
        <p class="mt-4 text-xl font-semibold text-blue-800">Love is in the air...</p>
    </div>

    <!-- Main Content -->
    <div class="min-h-screen">
        <!-- Hero Section -->
        <section id="hero-section" class="relative h-screen flex flex-col items-center justify-center p-4 text-center">
            <!-- Semi-transparent overlay for text readability -->
            <div class="absolute inset-0 bg-black opacity-30 z-0"></div>

            <!-- Central Content: Names and text -->
            <div class="relative z-10 text-white drop-shadow-md animate-on-scroll">
                <h1 class="font-dancing-script">
                    <span class="hero-names">Someshwaran</span>
                    <span class="ampersand">&</span>
                    <span class="hero-names">Devi</span>
                </h1>
                <p class="hero-subtext font-montserrat tracking-wide">Get Ready to Celebrate with Us!</p>
            </div>
        </section>

        <!-- Thirukural Section -->
        <section class="py-12 md:py-16 px-4 bg-gradient-to-r from-blue-100 to-teal-100 text-center animate-on-scroll">
            <div class="container mx-auto max-w-4xl">
                <div class="thirukural-kural text-blue-800 leading-relaxed mb-8">
                    <span>‡ÆÖ‡Æ©‡Øç‡Æ™‡ØÅ‡ÆÆ‡Øç ‡ÆÖ‡Æ±‡Æ©‡ØÅ‡ÆÆ‡Øç ‡Æâ‡Æü‡Øà‡Æ§‡Øç‡Æ§‡Ææ‡ÆØ‡Æø‡Æ©‡Øç ‡Æá‡Æ≤‡Øç‡Æµ‡Ææ‡Æ¥‡Øç‡Æï‡Øç‡Æï‡Øà</span>
                    <span>‡Æ™‡Æ£‡Øç‡Æ™‡ØÅ‡ÆÆ‡Øç ‡Æ™‡ÆØ‡Æ©‡ØÅ‡ÆÆ‡Øç ‡ÆÖ‡Æ§‡ØÅ.</span>
                </div>
                <!-- Countdown Section -->
                <div id="countdown" class="mt-8"></div>
            </div>
        </section>

        <!-- Navigation Bar -->
        <nav class="sticky top-0 z-50 bg-blue-300 backdrop-blur-lg bg-opacity-80 shadow-lg py-3">
            <div class="container mx-auto px-4 flex justify-center space-x-6 text-gray-800 font-montserrat">
                <a href="#details" class="font-semibold hover:text-blue-700 transition-colors">Details</a>
                <a href="#our-journey" class="font-semibold hover:text-blue-700 transition-colors">Our Journey</a>
                <a href="#whatsapp-wishes" class="font-semibold hover:text-blue-700 transition-colors">Wishes</a>
            </div>
        </nav>

        <!-- Details Section -->
        <section id="details" class="py-16 md:py-24 px-4 bg-white animate-on-scroll">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-5xl font-playfair font-bold text-teal-600 mb-12 animate-on-scroll flex items-center justify-center">The Ceremonies <span class="ml-2 text-yellow-500 animated-heart">‚ù§Ô∏è</span></h2>
                <p class="text-gray-600 max-w-2xl mx-auto mb-12 animate-on-scroll font-montserrat">We cordially invite you to share our joy and celebrate the union of two souls.</p>

                <div class="grid md:grid-cols-2 gap-8 lg:gap-12 text-gray-700">
                    <!-- Marriage Section -->
                    <div class="bg-blue-50 p-6 md:p-10 rounded-2xl shadow-xl border border-blue-200 animate-on-scroll">
                        <h3 class="text-2xl md:text-3xl font-playfair font-bold text-blue-600 mb-4">Marriage</h3>
                        <p class="text-sm md:text-base font-semibold text-blue-400 mb-2 font-montserrat">DATE & TIME</p>
                        <p class="text-lg md:text-xl font-bold mb-4 font-montserrat">Monday, November 3, 2025<br>04:30 AM - 11:00 AM</p>
                        <hr class="w-16 mx-auto my-6 border-blue-300">
                        <p class="text-sm md:text-base font-semibold text-blue-400 mb-2 font-montserrat">VENUE</p>
                        <a href="https://www.google.com/maps?sca_esv=99f1a6d769628b16&rlz=1C1ONGR_enIN1124IN1124&output=search&q=Om+Sakthi+Hall+Kaveripattinam&source=lnms&fbs=AIIjpHxU7SXXniUZfeShr2fp4giZ1Y6MJ25_tmWITc7uy4KIetxLMeWi1u_d0OMRvkClUbalBeyXa8ssyRd_VUj5FQB2M49RDgUuMIHyvVwTXA6WeXN8OYQDI_AUx1PTT7RHQ92eG-KQ&entry=mc&ved=1t:200715&ictx:111" class="text-lg md:text-xl font-bold text-teal-600 hover:underline font-montserrat">Om Sakthi Hall<br>Kaveripattinam</a>
                    </div>

                    <!-- Reception Section -->
                    <div class="bg-blue-50 p-6 md:p-10 rounded-2xl shadow-xl border border-blue-200 animate-on-scroll">
                        <h3 class="text-2xl md:text-3xl font-playfair font-bold text-blue-600 mb-4">Reception</h3>
                        <p class="text-sm md:text-base font-semibold text-blue-400 mb-2 font-montserrat">DATE & TIME</p>
                        <p class="text-lg md:text-xl font-bold mb-4 font-montserrat">Sunday, November 9, 2025<br>11:00 AM - 03:00 PM</p>
                        <hr class="w-16 mx-auto my-6 border-blue-300">
                        <p class="text-sm md:text-base font-semibold text-blue-400 mb-2 font-montserrat">VENUE</p>
                        <a href="https://share.google/JDIlUxWFIuxoyAowG" class="text-lg md:text-xl font-bold text-teal-600 hover:underline font-montserrat">MKM Kalayana Mandapam<br>Andhra Pradesh</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- New Combined Story & Gallery Section -->
        <section id="our-journey" class="py-12 px-4 bg-gradient-to-l from-blue-100 to-white text-center animate-on-scroll">
            <div class="container mx-auto max-w-2xl flex flex-col items-center">
                <h2 class="text-3xl md:text-5xl font-playfair font-bold text-teal-600 mb-6 animate-on-scroll flex items-center justify-center">Our Journey <span class="ml-2 text-yellow-500 animated-heart">üíñ</span></h2>
                
                <!-- The new Tinder-like slider wrapper -->
                <div id="tinder-slider-wrapper" class="relative mb-6">
                    <!-- Cards will be dynamically added here by JavaScript -->
                </div>

                <p id="story-text" class="text-gray-700 leading-relaxed text-lg font-montserrat animate-on-scroll"></p>
            </div>
        </section>

        <!-- WhatsApp Wishes Section -->
        <section id="whatsapp-wishes" class="py-12 md:py-16 px-4 bg-gradient-to-r from-teal-100 to-blue-200 text-center animate-on-scroll">
            <div class="container mx-auto max-w-md">
                <h2 class="text-2xl md:text-3xl font-playfair font-bold text-blue-600 mb-8 animate-on-scroll">Send Your Wishes</h2>
                <a href="https://api.whatsapp.com/send/?phone=8675168590&text=I+am+attending+the+event&type=phone_number&app_absent=0" class="inline-block bg-green-600 text-white font-bold py-2 px-6 rounded-full shadow-lg hover:bg-green-700 transition-colors transform hover:scale-105">
                    Send Wishes on WhatsApp
                </a>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-gradient-to-r from-blue-900 via-blue-800 to-teal-900 text-center py-8 text-white relative footer-pattern overflow-hidden">
            <!-- Fixed, beating hearts in the footer. Now using SVG for consistent coloring. -->
            <svg class="footer-fixed-heart left w-12 h-12 fill-yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
            <svg class="footer-fixed-heart right w-12 h-12 fill-green-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
            
            <!-- New animated SVG heart in the background -->
            <div class="absolute inset-0 flex items-center justify-center z-0">
                <svg viewBox="0 0 100 100" class="w-2/3 h-2/3 animated-footer-heart-svg">
                    <path d="M50 85C20 60 5 45 5 30C5 15 20 0 50 20C80 0 95 15 95 30C95 45 80 60 50 85Z" fill="rgba(255,255,255,0.1)" stroke="white" stroke-width="1" />
                </svg>
            </div>

            <div class="relative z-10 flex flex-col items-center">
                <p class="font-bold text-lg font-playfair mb-2">With Love,</p>
                <div class="flex items-center justify-center space-x-2">
                    <p class="text-xl font-bold font-montserrat">Someshwaran & Devi</p>
                </div>
            </div>
            <!-- Container for the continuously flying hearts -->
            <div id="footer-hearts-container" class="absolute inset-0 z-0"></div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Hide loading screen after a short delay
            setTimeout(() => {
                const loadingScreen = document.getElementById('loading-screen');
                loadingScreen.classList.add('fade-out');
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                }, 1000);
            }, 1000);

            // Set up Hero image and lazy loading
            const heroSection = document.getElementById('hero-section');
            const heroImage = new Image();
            heroImage.src = 'img/your_cover_photo.JPG';
            heroImage.onload = () => {
                heroSection.style.backgroundImage = `url('${heroImage.src}')`;
                heroSection.classList.add('hero-merged', 'loaded');
            };

            setupCountdown();
            setupIntersectionObserver();
            setupTinderSlider();
            setupFloatingHearts();
            setupFooterFlyingHearts();
        });

        // Countdown Timer
        function setupCountdown() {
            const countdownElement = document.getElementById('countdown');
            const marriageDate = new Date("Nov 03, 2025 04:30:00").getTime();
            const receptionDate = new Date("Nov 09, 2025 11:00:00").getTime();
            
            let timerInterval = setInterval(function() {
                const now = new Date().getTime();
                let distance;
                let eventTitle;

                if (now < marriageDate) {
                    // Countdown to Marriage
                    distance = marriageDate - now;
                    eventTitle = "Marriage";
                } else if (now >= marriageDate && now < receptionDate) {
                    // Countdown to Reception
                    distance = receptionDate - now;
                    eventTitle = "Reception";
                } else {
                    // Both events have passed, stop the timer
                    clearInterval(timerInterval);
                    countdownElement.innerHTML = `<p class="text-lg font-bold text-white drop-shadow-md">We're Married!</p>`;
                    return;
                }

                // Calculate time components
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                // Update the display with the title inside the div
                countdownElement.innerHTML = `
                    <div class="flex flex-col items-center justify-center space-y-4 md:space-y-6 rounded-3xl py-6 px-4 shadow-xl bg-blue-300 max-w-sm mx-auto md:max-w-none">
                        <p class="text-xl md:text-2xl font-bold text-blue-800">${eventTitle} Countdown</p>
                        <div class="flex flex-wrap items-center justify-center space-x-2 md:space-x-4">
                            <!-- Days -->
                            <div class="flex flex-col items-center mb-2 md:mb-0">
                                <span class="text-2xl md:text-4xl font-bold font-playfair text-blue-700">${days}</span>
                                <span class="text-sm font-montserrat text-gray-800">‡Æ®‡Ææ‡Æü‡Øç‡Æï‡Æ≥‡Øç</span>
                            </div>
                            <span class="text-xl md:text-2xl animated-heart text-yellow-500">‚ù§Ô∏è</span>
                            <!-- Hours -->
                            <div class="flex flex-col items-center mb-2 md:mb-0">
                                <span class="text-2xl md:text-4xl font-bold font-playfair text-blue-700">${hours}</span>
                                <span class="text-sm font-montserrat text-gray-800">‡ÆÆ‡Æ£‡Æø‡Æ®‡Øá‡Æ∞‡ÆÆ‡Øç</span>
                            </div>
                            <span class="text-xl md:text-2xl animated-heart text-yellow-500">‚ù§Ô∏è</span>
                            <!-- Minutes -->
                            <div class="flex flex-col items-center mb-2 md:mb-0">
                                <span class="text-2xl md:text-4xl font-bold font-playfair text-blue-700">${minutes}</span>
                                <span class="text-sm font-montserrat text-gray-800">‡Æ®‡Æø‡ÆÆ‡Æø‡Æü‡Æô‡Øç‡Æï‡Æ≥‡Øç</span>
                            </div>
                            <span class="text-xl md:text-2xl animated-heart text-yellow-500">‚ù§Ô∏è</span>
                            <!-- Seconds -->
                            <div class="flex flex-col items-center">
                                <span class="text-2xl md:text-4xl font-bold font-playfair text-blue-700">${seconds}</span>
                                <span class="text-sm font-montserrat text-gray-800">‡Æµ‡Æø‡Æ®‡Ææ‡Æü‡Æø‡Æï‡Æ≥‡Øç</span>
                            </div>
                        </div>
                    </div>
                `;
            }, 1000);
        }

        // Intersection Observer for animations
        function setupIntersectionObserver() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('in-view');
                    } else {
                        entry.target.classList.remove('in-view');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.animate-on-scroll').forEach(element => {
                observer.observe(element);
            });

            // Smooth scrolling for nav links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        }
        
        // New Tinder-like swiping slider with auto-play
        function setupTinderSlider() {
            const storyData = [
                {
                    src: "img/story_1.JPG",
                    story: "It all began on a crisp autumn day, a chance meeting that sparked a connection unlike any other. We found our forever in each other's eyes, and now, we are ready to embark on this beautiful new journey."
                },
                {
                    src: "img/story_2.JPG",
                    story: "Through shared laughter, quiet conversations, and unwavering support, our love blossomed. We found our forever in each other's eyes, and now, we are ready to embark on this beautiful new journey."
                },
                {
                    src: "img/story_3.JPG",
                    story: "He got down on one knee, and in that moment, all the moments led to this one. We found our forever in each other's eyes, and now, we are ready to embark on this beautiful new journey."
                },
                {
                    src: "img/story_4.JPG",
                    story: "A beautiful moment captured during our engagement shoot, surrounded by the joy and love of our families. Every photo tells a part of our story, a memory we'll cherish forever."
                },
                {
                    src: "img/story_5.JPG",
                    story: "We spent the day laughing, taking pictures, and creating new memories. We couldn't be happier to share these special moments with all of you."
                },
                {
                    src: "img/story_6.JPG",
                    story: "Here‚Äôs to the countless adventures we have ahead and the beautiful memories we have made. We are in love and excited for our future together."
                },
            ];

            const sliderWrapper = document.getElementById('tinder-slider-wrapper');
            const textElement = document.getElementById('story-text');
            let cards = [];
            let currentCardIndex = 0;
            let isSwiping = false;
            let startX = 0;
            let autoSlideTimeout;
            const swipeThreshold = 100;
            const SLIDE_INTERVAL = 7000; // 7 seconds

            // Create all cards and add them to the wrapper
            function createCards() {
                cards = [];
                sliderWrapper.innerHTML = '';
                storyData.forEach((item, index) => {
                    const card = document.createElement('div');
                    card.classList.add('tinder-card');
                    card.style.backgroundImage = `url(${item.src})`;
                    card.dataset.index = index;
                    sliderWrapper.appendChild(card);
                    cards.push(card);
                });
                
                // Set initial card state
                updateCardDisplay();
            }

            // Update the display for the current slide
            function updateCardDisplay() {
                cards.forEach((card, index) => {
                    card.classList.remove('active', 'inactive');
                    if (index === currentCardIndex) {
                        card.classList.add('active');
                    } else if ((index === currentCardIndex + 1) || (currentCardIndex === storyData.length - 1 && index === 0)) {
                        card.classList.add('inactive');
                    }
                });
                textElement.textContent = storyData[currentCardIndex].story;
            }

            // Function to reset the automatic slide timer
            function resetAutoSlide() {
                clearTimeout(autoSlideTimeout);
                autoSlideTimeout = setTimeout(() => {
                    showNextCard();
                }, SLIDE_INTERVAL);
            }

            // Function to show the next card
            function showNextCard() {
                if (isSwiping) return; // Prevent auto-slide during a user swipe
                const activeCard = cards[currentCardIndex];
                
                // Swipe the card off to the left (arbitrarily)
                activeCard.style.transition = 'transform 0.5s ease-in-out';
                activeCard.style.transform = `translateX(-300%) rotate(-30deg)`;

                activeCard.addEventListener('transitionend', () => {
                    activeCard.remove();
                    sliderWrapper.appendChild(activeCard);
                    activeCard.style.transition = 'none';
                    activeCard.style.transform = '';
                    
                    currentCardIndex = (currentCardIndex + 1) % storyData.length;
                    updateCardDisplay();
                    resetAutoSlide();
                }, { once: true });
            }

            function onDragStart(e) {
                if (isSwiping) return;
                clearTimeout(autoSlideTimeout); // Pause auto-play
                
                isSwiping = false;
                startX = e.clientX || e.touches[0].clientX;
                cards[currentCardIndex].style.transition = 'none';
            }

            function onDragMove(e) {
                if (!isSwiping && cards[currentCardIndex]) {
                    currentX = e.clientX || e.touches[0].clientX;
                    const deltaX = currentX - startX;
                    const activeCard = cards[currentCardIndex];
                    if (activeCard) {
                        activeCard.style.transform = `translateX(${deltaX}px) rotate(${deltaX / 20}deg)`;
                    }
                }
            }

            function onDragEnd(e) {
                if (isSwiping || !cards[currentCardIndex]) return;
                const activeCard = cards[currentCardIndex];
                const deltaX = (e.clientX || e.changedTouches[0].clientX) - startX;

                activeCard.style.transition = 'transform 0.5s ease-in-out';

                if (Math.abs(deltaX) > swipeThreshold) {
                    const direction = deltaX > 0 ? 'right' : 'left';
                    isSwiping = true;

                    if (direction === 'left') {
                        activeCard.classList.add('swipe-left');
                    } else {
                        activeCard.classList.add('swipe-right');
                    }
                    
                    activeCard.addEventListener('transitionend', () => {
                        isSwiping = false;
                        activeCard.remove();
                        sliderWrapper.appendChild(activeCard);
                        activeCard.style.transition = 'none';
                        activeCard.style.transform = '';

                        currentCardIndex = (currentCardIndex + 1) % storyData.length;
                        updateCardDisplay();
                        resetAutoSlide();
                    }, { once: true });
                } else {
                    activeCard.style.transform = 'translateX(0) rotate(0)';
                    resetAutoSlide(); // Resume auto-play if swipe was too short
                }
            }

            // Set up event listeners on the wrapper to handle drag/swipe
            sliderWrapper.addEventListener('mousedown', onDragStart);
            sliderWrapper.addEventListener('mousemove', onDragMove);
            sliderWrapper.addEventListener('mouseup', onDragEnd);
            sliderWrapper.addEventListener('mouseleave', onDragEnd);

            sliderWrapper.addEventListener('touchstart', (e) => onDragStart(e));
            sliderWrapper.addEventListener('touchmove', (e) => onDragMove(e));
            sliderWrapper.addEventListener('touchend', (e) => onDragEnd(e));

            // Initial setup
            createCards();
            resetAutoSlide();
        }

        // New function to handle floating hearts on scroll using SVG
        function setupFloatingHearts() {
            const heartColors = ['#fde047', '#34d399'];
            let lastScrollY = window.scrollY;

            // Create an SVG heart element
            function createSvgHeart(color, size) {
                const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                svg.setAttribute("viewBox", "0 0 24 24");
                svg.setAttribute("fill", color);
                svg.innerHTML = `<path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>`;
                svg.classList.add('floating-heart');
                svg.style.width = `${size}rem`;
                svg.style.height = `${size}rem`;
                return svg;
            }

            window.addEventListener('scroll', () => {
                const currentScrollY = window.scrollY;
                if (Math.abs(currentScrollY - lastScrollY) > 100) {
                    const randomX = Math.random() * window.innerWidth;
                    const randomSize = Math.random() * 0.5 + 1;
                    const randomColor = heartColors[Math.floor(Math.random() * heartColors.length)];

                    const heart = createSvgHeart(randomColor, randomSize);
                    heart.style.left = `${randomX}px`;
                    heart.style.bottom = `0`;

                    document.body.appendChild(heart);

                    setTimeout(() => {
                        heart.remove();
                    }, 3000);
                }
                lastScrollY = currentScrollY;
            });
        }

        // New function for continuously flying hearts in the footer using SVG
        function setupFooterFlyingHearts() {
            const footerHeartsContainer = document.getElementById('footer-hearts-container');
            const heartColors = ['#fde047', '#34d399'];

            // Create an SVG heart element
            function createSvgHeart(color, size) {
                const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                svg.setAttribute("viewBox", "0 0 24 24");
                svg.setAttribute("fill", color);
                svg.innerHTML = `<path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>`;
                svg.classList.add('footer-fly-heart');
                svg.style.width = `${size}rem`;
                svg.style.height = `${size}rem`;
                return svg;
            }

            setInterval(() => {
                const randomX = Math.random() * 100;
                const randomSize = Math.random() * 0.5 + 1;
                const randomColor = heartColors[Math.floor(Math.random() * heartColors.length)];

                const heart = createSvgHeart(randomColor, randomSize);
                heart.style.left = `${randomX}%`;

                footerHeartsContainer.appendChild(heart);

                setTimeout(() => {
                    heart.remove();
                }, 2000);
            }, 300);
        }
    </script>
</body>
</html>
